{
  "info": {
    "name": "Calendar API",
    "description": "Collection for testing Calendar API endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Public Endpoints",
      "item": [
        {
          "name": "Get All Events (Uppercase)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/list",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["list"]
            },
            "description": "Get all events with student and name in uppercase"
          },
          "response": []
        },
        {
          "name": "Get Event Details by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/details/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["details", "1"]
            },
            "description": "Get details of a specific event by ID"
          },
          "response": []
        },
        {
          "name": "Search Events by Name",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/search?name=examen",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["search"],
              "query": [
                {
                  "key": "name",
                  "value": "examen",
                  "description": "Search term for event name"
                }
              ]
            },
            "description": "Search events by name (case insensitive)"
          },
          "response": []
        },
        {
          "name": "Get Events by Field",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/events/field/location",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["events", "field", "location"]
            },
            "description": "Get all values for a specific field (id, name, student, date, location, description)"
          },
          "response": []
        },
        {
          "name": "Get Events with Custom Fields",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/events/custom?fields=name,id",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["events", "custom"],
              "query": [
                {
                  "key": "fields",
                  "value": "name,id",
                  "description": "Comma-separated list of fields to return (id, name, student, date, location, description)"
                }
              ]
            },
            "description": "Get events with only specified fields. Examples:\n- fields=name,id\n- fields=name,id,location\n- fields=student,date,location"
          },
          "response": []
        },
        {
          "name": "Custom Fields - name, id, location",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/events/custom?fields=name,id,location",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["events", "custom"],
              "query": [
                {
                  "key": "fields",
                  "value": "name,id,location",
                  "description": "Returns only name, id, and location"
                }
              ]
            },
            "description": "Example: Get only name, id, and location fields"
          },
          "response": []
        },
        {
          "name": "Custom Fields - student, date",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/events/custom?fields=student,date",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["events", "custom"],
              "query": [
                {
                  "key": "fields",
                  "value": "student,date",
                  "description": "Returns only student and date"
                }
              ]
            },
            "description": "Example: Get only student and date fields"
          },
          "response": []
        },
        {
          "name": "Custom Fields - All fields",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/events/custom?fields=id,name,student,date,location,description",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["events", "custom"],
              "query": [
                {
                  "key": "fields",
                  "value": "id,name,student,date,location,description",
                  "description": "Returns all available fields"
                }
              ]
            },
            "description": "Example: Get all fields (same as no filter)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin Endpoints",
      "item": [
        {
          "name": "Add Event (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "role",
                "value": "admin",
                "description": "Required admin role"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Conferință Tech\",\n  \"student\": \"Vasile Rusu\",\n  \"date\": \"2025-11-15\",\n  \"location\": \"Chișinău\",\n  \"description\": \"Conferință despre tehnologii moderne\"\n}"
            },
            "url": {
              "raw": "http://localhost:3000/admin/add",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "add"]
            },
            "description": "Add a new event (requires admin role)"
          },
          "response": []
        },
        {
          "name": "Update Event (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "role",
                "value": "admin",
                "description": "Required admin role"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Examen Final\",\n  \"student\": \"Maria Ionescu\",\n  \"date\": \"2025-09-21\",\n  \"location\": \"Bălți\",\n  \"description\": \"Examen final la programare\"\n}"
            },
            "url": {
              "raw": "http://localhost:3000/admin/edit/2",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "edit", "2"]
            },
            "description": "Update an existing event (requires admin role)"
          },
          "response": []
        },
        {
          "name": "Delete Event (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "role",
                "value": "admin",
                "description": "Required admin role"
              }
            ],
            "url": {
              "raw": "http://localhost:3000/admin/delete/3",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "delete", "3"]
            },
            "description": "Delete an event by ID (requires admin role)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Error Cases",
      "item": [
        {
          "name": "Add Event - Missing Admin Role",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Event\",\n  \"student\": \"Test Student\",\n  \"date\": \"2025-12-01\",\n  \"location\": \"Test Location\"\n}"
            },
            "url": {
              "raw": "http://localhost:3000/admin/add",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "add"]
            },
            "description": "Test 403 error when admin role is missing"
          },
          "response": []
        },
        {
          "name": "Get Event - Not Found",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/details/999",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["details", "999"]
            },
            "description": "Test 404 error for non-existent event"
          },
          "response": []
        },
        {
          "name": "Add Event - Invalid Data",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "role",
                "value": "admin"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"AB\",\n  \"student\": \"Test Student\",\n  \"date\": \"invalid-date\"\n}"
            },
            "url": {
              "raw": "http://localhost:3000/admin/add",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["admin", "add"]
            },
            "description": "Test 400 error for invalid data"
          },
          "response": []
        },
        {
          "name": "Get Events by Invalid Field",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/events/field/invalid",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["events", "field", "invalid"]
            },
            "description": "Test 400 error for invalid field name"
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "string"
    }
  ]
}
